{"uid":"335ab6cf64d3dfc4","name":"test_mss_service_report_send_mouth_report","fullName":"testcase.test_mss.test_mss_report_center.test_report_center_service_report.TestReportCenterServiceReport#test_mss_service_report_send_mouth_report","historyId":"8a2513846d4750df961d0103bc8e300b","time":{"start":1664443313271,"stop":1664443318545,"duration":5274},"description":"\n        1.生成月报\n        2.发送月报\n        3.发送状态校验\n        4.删除报告\n        :param create_and_delete_report: 生成报告的id值\n        :param login_mss: token值\n        :return:\n        ","descriptionHtml":"<pre><code>    1.生成月报\n    2.发送月报\n    3.发送状态校验\n    4.删除报告\n    :param create_and_delete_report: 生成报告的id值\n    :param login_mss: token值\n    :return:\n</code></pre>\n","status":"failed","statusMessage":"AssertionError: assert '网络错误导致邮件发送失败 ' == 'RESPONSE_OK'\n  - RESPONSE_OK\n  + 网络错误导致邮件发送失败","statusTrace":"self = <testcase.test_mss.test_mss_report_center.test_report_center_service_report.TestReportCenterServiceReport object at 0x1051d0220>\ncreate_and_delete_report = '21184'\nlogin_mss = 'eyJraWQiOiJ1YWEta2V5LTIyMDIxNiIsImFsZyI6IlJTMjU2In0.eyJ0ZW5hbnRfaWQiOm51bGwsInVzZXJfbmFtZSI6IjEzMDUyMTgxMTA1IiwiaWQiO...wNY_xX84ahNZ0EoX65jHGpJeGsfxiAJqer_CFDpg3l_sCTKq9RNZpfsY2PRHpPpo_Ln_u9_2tAQ41BQ_0bOmKMsHuH8bhkp_noBqu_t5KPWa-7y6f1aspA'\n\n    @allure.story(\"服务报告-生成月报后发送\")\n    @allure.step(\"发送月报后校验发送状态\")\n    @allure.severity(\"blocker\")\n    @allure.testcase(\"测试用例的禅道链接地址_例子\")\n    @pytest.mark.usefixtures('create_and_delete_report')\n    @retry(delays=(1, 2, 1))\n    def test_mss_service_report_send_mouth_report(self, create_and_delete_report, login_mss):\n        \"\"\"\n        1.生成月报\n        2.发送月报\n        3.发送状态校验\n        4.删除报告\n        :param create_and_delete_report: 生成报告的id值\n        :param login_mss: token值\n        :return:\n        \"\"\"\n        # 发送报告\n        api_date = to_obtain_url_param_method(saas_type='MSS', api_name='report_record_send_report', api='api',token=login_mss)\n        send_report_result = self.mss_request.run_main(method=api_date['method'], url=api_date['url'] + create_and_delete_report, json={}, headers=api_date['headers'])\n        self.log.info(\"发送报告返回结果：{}\".format(send_report_result.json()))\n>       assert send_report_result.json()['message'] == 'RESPONSE_OK'\nE       AssertionError: assert '网络错误导致邮件发送失败 ' == 'RESPONSE_OK'\nE         - RESPONSE_OK\nE         + 网络错误导致邮件发送失败\n\ntestcase/test_mss/test_mss_report_center/test_report_center_service_report.py:92: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"login_mss","time":{"start":1664443312147,"stop":1664443312184,"duration":37},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"_xunit_setup_class_fixture_TestReportCenterServiceReport","time":{"start":1664443312147,"stop":1664443312147,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"create_and_delete_report","time":{"start":1664443313199,"stop":1664443313270,"duration":71},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"testStage":{"description":"\n        1.生成月报\n        2.发送月报\n        3.发送状态校验\n        4.删除报告\n        :param create_and_delete_report: 生成报告的id值\n        :param login_mss: token值\n        :return:\n        ","status":"failed","statusMessage":"AssertionError: assert '网络错误导致邮件发送失败 ' == 'RESPONSE_OK'\n  - RESPONSE_OK\n  + 网络错误导致邮件发送失败","statusTrace":"self = <testcase.test_mss.test_mss_report_center.test_report_center_service_report.TestReportCenterServiceReport object at 0x1051d0220>\ncreate_and_delete_report = '21184'\nlogin_mss = 'eyJraWQiOiJ1YWEta2V5LTIyMDIxNiIsImFsZyI6IlJTMjU2In0.eyJ0ZW5hbnRfaWQiOm51bGwsInVzZXJfbmFtZSI6IjEzMDUyMTgxMTA1IiwiaWQiO...wNY_xX84ahNZ0EoX65jHGpJeGsfxiAJqer_CFDpg3l_sCTKq9RNZpfsY2PRHpPpo_Ln_u9_2tAQ41BQ_0bOmKMsHuH8bhkp_noBqu_t5KPWa-7y6f1aspA'\n\n    @allure.story(\"服务报告-生成月报后发送\")\n    @allure.step(\"发送月报后校验发送状态\")\n    @allure.severity(\"blocker\")\n    @allure.testcase(\"测试用例的禅道链接地址_例子\")\n    @pytest.mark.usefixtures('create_and_delete_report')\n    @retry(delays=(1, 2, 1))\n    def test_mss_service_report_send_mouth_report(self, create_and_delete_report, login_mss):\n        \"\"\"\n        1.生成月报\n        2.发送月报\n        3.发送状态校验\n        4.删除报告\n        :param create_and_delete_report: 生成报告的id值\n        :param login_mss: token值\n        :return:\n        \"\"\"\n        # 发送报告\n        api_date = to_obtain_url_param_method(saas_type='MSS', api_name='report_record_send_report', api='api',token=login_mss)\n        send_report_result = self.mss_request.run_main(method=api_date['method'], url=api_date['url'] + create_and_delete_report, json={}, headers=api_date['headers'])\n        self.log.info(\"发送报告返回结果：{}\".format(send_report_result.json()))\n>       assert send_report_result.json()['message'] == 'RESPONSE_OK'\nE       AssertionError: assert '网络错误导致邮件发送失败 ' == 'RESPONSE_OK'\nE         - RESPONSE_OK\nE         + 网络错误导致邮件发送失败\n\ntestcase/test_mss/test_mss_report_center/test_report_center_service_report.py:92: AssertionError","steps":[{"name":"发送月报后校验发送状态","time":{"start":1664443313271,"stop":1664443318541,"duration":5270},"status":"failed","statusMessage":"AssertionError: assert '网络错误导致邮件发送失败 ' == 'RESPONSE_OK'\n  - RESPONSE_OK\n  + 网络错误导致邮件发送失败 \n","statusTrace":"  File \"/Users/caowanliang/mss-even/lib/python3.9/site-packages/allure_commons/_allure.py\", line 172, in impl\n    return func(*a, **kw)\n  File \"/Users/caowanliang/Mss_Interface_Automation/common/comm.py\", line 79, in wrapped\n    return function(*args, **kwargs)\n  File \"/Users/caowanliang/Mss_Interface_Automation/testcase/test_mss/test_mss_report_center/test_report_center_service_report.py\", line 92, in test_mss_service_report_send_mouth_report\n    assert send_report_result.json()['message'] == 'RESPONSE_OK'\n","steps":[],"attachments":[],"parameters":[{"name":"args","value":"(<testcase.test_mss.test_mss_report_center.test_report_center_service_report.TestReportCenterServiceReport object at 0x1051d0220>,)"},{"name":"create_and_delete_report","value":"'21184'"},{"name":"login_mss","value":"'eyJraWQiOiJ1YWEta2V5LTIyMDIxNiIsImFsZyI6IlJTMjU2In0.eyJ0ZW5hbnRfaWQiOm51bGwsInVzZXJfbmFtZSI6IjEzMDUyMTgxMTA1IiwiaWQiOiIzMjE2MDQ3OCIsImp0aSI6InVhYS1rZXktMjIwMjE2IiwiYXV0aG9yaXRpZXMiOiJvcGVyYXRvcl9tYW5hZ2VyLHN1cGVyX2FkbWluIiwiY2xpZW50X2lkIjoiYnJvd2VyQ2xpZW50IiwicGxhdGZvcm1fdHlwZSI6Im1hbmFnZSIsImV4cCI6MTY2NDU0MzMxMX0.ZysQ7a1MZdWq_DesdnpAheeaikSRY7khT10tvKQ3V7-_HqlB8LxlamXi-5gdFk-KOmqLEP1MvnpBuwU1XY5e8aMTdDy9Irhr-G-XJkk6rPsJVm9CEEgoC6cauylB1niSDqPqGoLinEpfmb91lIXKw-AVylFoBy_tvsMZ94Jpg0EkrqF6nUmGX5qQ-AwFrIN795iJZYap4khqQDRv3A2nNl6NSbtjoLo7wNY_xX84ahNZ0EoX65jHGpJeGsfxiAJqer_CFDpg3l_sCTKq9RNZpfsY2PRHpPpo_Ln_u9_2tAQ41BQ_0bOmKMsHuH8bhkp_noBqu_t5KPWa-7y6f1aspA'"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":true,"hasContent":true}],"attachments":[{"uid":"3550b1035e31a538","name":"log","source":"3550b1035e31a538.txt","type":"text/plain","size":3882},{"uid":"be3708669358292","name":"stderr","source":"be3708669358292.txt","type":"text/plain","size":3057}],"parameters":[],"stepsCount":1,"attachmentsCount":2,"shouldDisplayMessage":true,"hasContent":true},"afterStages":[{"name":"create_and_delete_report::0","time":{"start":1664443318801,"stop":1664443318825,"duration":24},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"login_mss::0","time":{"start":1664443318826,"stop":1664443318839,"duration":13},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"_xunit_setup_class_fixture_TestReportCenterServiceReport::0","time":{"start":1664443318839,"stop":1664443318839,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"labels":[{"name":"feature","value":"报告中心"},{"name":"severity","value":"blocker"},{"name":"story","value":"服务报告-生成月报后发送"},{"name":"tag","value":"@pytest.mark.usefixtures('create_and_delete_report')"},{"name":"parentSuite","value":"testcase.test_mss.test_mss_report_center"},{"name":"suite","value":"test_report_center_service_report"},{"name":"subSuite","value":"TestReportCenterServiceReport"},{"name":"host","value":"LiangdeMacBook-Pro.local"},{"name":"thread","value":"19553-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"testcase.test_mss.test_mss_report_center.test_report_center_service_report"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[{"name":"测试用例的禅道链接地址_例子","url":"测试用例的禅道链接地址_例子","type":"test_case"}],"hidden":false,"retry":false,"extra":{"severity":"blocker","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"tags":["@pytest.mark.usefixtures('create_and_delete_report')"]},"source":"335ab6cf64d3dfc4.json","parameterValues":[]}